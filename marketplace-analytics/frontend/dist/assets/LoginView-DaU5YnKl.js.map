{"version":3,"file":"LoginView-DaU5YnKl.js","sources":["../../src/views/auth/LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"mb-6\">\n      <h2 class=\"text-center text-2xl font-bold text-gray-900\">Вход в систему</h2>\n      <p class=\"mt-2 text-center text-sm text-gray-600\">\n        Войдите в свой аккаунт для доступа к аналитике\n      </p>\n    </div>\n\n    <form @submit.prevent=\"handleLogin\" class=\"space-y-6\">\n      <BaseInput\n        id=\"email\"\n        v-model=\"form.email\"\n        label=\"Email\"\n        type=\"email\"\n        placeholder=\"your@email.com\"\n        required\n        :error=\"errors.email\"\n        :icon=\"EnvelopeIcon\"\n      />\n\n      <BaseInput\n        id=\"password\"\n        v-model=\"form.password\"\n        label=\"Пароль\"\n        type=\"password\"\n        placeholder=\"••••••••\"\n        required\n        :error=\"errors.password\"\n        :icon=\"LockClosedIcon\"\n      />\n\n      <div class=\"flex items-center justify-between\">\n        <div class=\"flex items-center\">\n          <input\n            id=\"remember-me\"\n            name=\"remember-me\"\n            type=\"checkbox\"\n            class=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n          />\n          <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\">\n            Запомнить меня\n          </label>\n        </div>\n\n        <div class=\"text-sm\">\n          <a href=\"#\" class=\"font-medium text-primary-600 hover:text-primary-500\">\n            Забыли пароль?\n          </a>\n        </div>\n      </div>\n\n      <BaseButton\n        type=\"submit\"\n        variant=\"primary\"\n        :loading=\"loading\"\n        :disabled=\"!isFormValid\"\n        full-width\n      >\n        Войти\n      </BaseButton>\n\n      <div v-if=\"error\" class=\"rounded-md bg-red-50 p-4\">\n        <div class=\"flex\">\n          <ExclamationTriangleIcon class=\"h-5 w-5 text-red-400\" />\n          <div class=\"ml-3\">\n            <h3 class=\"text-sm font-medium text-red-800\">Ошибка входа</h3>\n            <div class=\"mt-2 text-sm text-red-700\">\n              <p>{{ error }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '@/stores/auth'\nimport BaseInput from '@/components/ui/BaseInput.vue'\nimport BaseButton from '@/components/ui/BaseButton.vue'\nimport { EnvelopeIcon, LockClosedIcon, ExclamationTriangleIcon } from '@heroicons/vue/24/outline'\n\nconst router = useRouter()\nconst authStore = useAuthStore()\n\nconst form = reactive({\n  email: '',\n  password: '',\n})\n\nconst errors = reactive({\n  email: '',\n  password: '',\n})\n\nconst loading = ref(false)\nconst error = ref('')\n\nconst isFormValid = computed(() => {\n  return form.email && form.password && !errors.email && !errors.password\n})\n\nconst validateForm = () => {\n  errors.email = ''\n  errors.password = ''\n\n  if (!form.email) {\n    errors.email = 'Email обязателен'\n  } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)) {\n    errors.email = 'Некорректный формат email'\n  }\n\n  if (!form.password) {\n    errors.password = 'Пароль обязателен'\n  } else if (form.password.length < 6) {\n    errors.password = 'Пароль должен содержать минимум 6 символов'\n  }\n\n  return !errors.email && !errors.password\n}\n\nconst handleLogin = async () => {\n  if (!validateForm()) return\n\n  try {\n    loading.value = true\n    error.value = ''\n    \n    await authStore.login({\n      email: form.email,\n      password: form.password,\n    })\n    \n    router.push('/')\n  } catch (err: any) {\n    error.value = err.response?.data?.message || 'Произошла ошибка при входе'\n  } finally {\n    loading.value = false\n  }\n}\n</script>"],"names":["router","useRouter","authStore","useAuthStore","form","reactive","errors","loading","ref","error","isFormValid","computed","validateForm","handleLogin","err","_b","_a","_createElementBlock","_createElementVNode","_createVNode","BaseInput","_cache","$event","_unref","EnvelopeIcon","LockClosedIcon","BaseButton","_openBlock","_hoisted_1","_hoisted_2","ExclamationTriangleIcon","_hoisted_3","_hoisted_4"],"mappings":"2hBAqFA,MAAMA,EAASC,EAAA,EACTC,EAAYC,EAAA,EAEZC,EAAOC,EAAS,CACpB,MAAO,GACP,SAAU,EAAA,CACX,EAEKC,EAASD,EAAS,CACtB,MAAO,GACP,SAAU,EAAA,CACX,EAEKE,EAAUC,EAAI,EAAK,EACnBC,EAAQD,EAAI,EAAE,EAEdE,EAAcC,EAAS,IACpBP,EAAK,OAASA,EAAK,UAAY,CAACE,EAAO,OAAS,CAACA,EAAO,QAChE,EAEKM,EAAe,KACnBN,EAAO,MAAQ,GACfA,EAAO,SAAW,GAEbF,EAAK,MAEE,6BAA6B,KAAKA,EAAK,KAAK,IACtDE,EAAO,MAAQ,6BAFfA,EAAO,MAAQ,mBAKZF,EAAK,SAECA,EAAK,SAAS,OAAS,IAChCE,EAAO,SAAW,8CAFlBA,EAAO,SAAW,oBAKb,CAACA,EAAO,OAAS,CAACA,EAAO,UAG5BO,EAAc,SAAY,SAC9B,GAAKD,IAEL,GAAI,CACFL,EAAQ,MAAQ,GAChBE,EAAM,MAAQ,GAEd,MAAMP,EAAU,MAAM,CACpB,MAAOE,EAAK,MACZ,SAAUA,EAAK,QAAA,CAChB,EAEDJ,EAAO,KAAK,GAAG,CACjB,OAASc,EAAU,CACjBL,EAAM,QAAQM,GAAAC,EAAAF,EAAI,WAAJ,YAAAE,EAAc,OAAd,YAAAD,EAAoB,UAAW,4BAC/C,QAAA,CACER,EAAQ,MAAQ,EAClB,CACF,oBA7IEU,EAyEM,MAAA,KAAA,aAxEJC,EAKM,MAAA,CALD,MAAM,QAAM,CACfA,EAA4E,KAAA,CAAxE,MAAM,8CAAA,EAA+C,gBAAc,EACvEA,EAEI,IAAA,CAFD,MAAM,wCAAA,EAAyC,kDAElD,CAAA,OAGFA,EAgEO,OAAA,CAhEA,WAAgBL,EAAW,CAAA,SAAA,CAAA,EAAE,MAAM,WAAA,GACxCM,EASEC,EAAA,CARA,GAAG,QACM,WAAAhB,EAAK,MAAL,sBAAAiB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAlB,EAAK,MAAKkB,GACnB,MAAM,QACN,KAAK,QACL,YAAY,iBACZ,SAAA,GACC,MAAOhB,EAAO,MACd,KAAMiB,EAAAC,CAAA,CAAA,wCAGTL,EASEC,EAAA,CARA,GAAG,WACM,WAAAhB,EAAK,SAAL,sBAAAiB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAlB,EAAK,SAAQkB,GACtB,MAAM,SACN,KAAK,WACL,YAAY,WACZ,SAAA,GACC,MAAOhB,EAAO,SACd,KAAMiB,EAAAE,CAAA,CAAA,mfAuBTN,EAQaO,EAAA,CAPX,KAAK,SACL,QAAQ,UACP,QAASnB,EAAA,MACT,UAAWG,EAAA,MACZ,aAAA,EAAA,aACD,IAED,CAAA,GAAAW,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFC,UAED,EAAA,CAAA,oCAEWZ,EAAA,OAAXkB,EAAA,EAAAV,EAUM,MAVNW,EAUM,CATJV,EAQM,MARNW,EAQM,CAPJV,EAAwDI,EAAAO,CAAA,EAAA,CAA/B,MAAM,uBAAsB,EACrDZ,EAKM,MALNa,EAKM,CAJJV,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAH,EAA8D,KAAA,CAA1D,MAAM,kCAAA,EAAmC,eAAY,EAAA,GACzDA,EAEM,MAFNc,EAEM,CADJd,EAAkB,WAAZT,EAAA,KAAK,EAAA,CAAA,CAAA"}